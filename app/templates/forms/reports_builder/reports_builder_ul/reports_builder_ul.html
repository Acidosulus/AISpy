
{% block head %}
  {% include "_head.html"%}
{% endblock %}

{% include "_navigation_panel.html"%}

{% block content %}

<form class="mform hidden" id="mform">
</form>
<div class="mform hidden" id="mdiv">
</div>


<h3>Конструктор отчётов</h3>

  <form id="report_designer_ul"  style="margin: 20px; padding: 20px; background-color:#CFCFCF;" class="border border-3 rounded border-primary">
    <div class="row">
        <div class="col-3">
          <h5 id="agreements_points_lable">Договора - Точки учета</h5>
          <select class="form-select" size="24" id="agreements_and_points_list">
            {% for  tp in agreement_types_data %}
              <option>{{ tp.name }}</option>
            {% endfor %}
          </select>
          <div class="row p-1">
            <div class="col-6 p-1">
              <div class="dropdown dropend">
              <button type="button" class="btn btn-primary col-12 dropdown-toggle" id="button_data_insert" id="AgreementPeriodsDropDownList" data-bs-toggle="dropdown" aria-expanded="false"><img width="24" height="24" src="/static/images/paste.png" align="left"> Добавить строки</button>
              <ul class="dropdown-menu dropdown-menu-dark " aria-labelledby="button_data_insert" id="button_data_insertDropMenu" data-agreementid="-==-">
                <li><a class="dropdown-item" href="#" onclick="InsertDataAgreementsFromClipboard_ShowInterface()">Договора из буфера обмена</a></li>
                <li><a class="dropdown-item" href="#" onclick="DataDesignerULAddOpenedAgreements();">Только действуюшие Договора</a></li>
                <li><a class="dropdown-item" href="#" onclick="DataDesignerULAddAllAgreements();">Все Договора</a></li>
                <li><a class="dropdown-item" href="#" onclick="">--------------------------------------------</a></li>
                <li><a class="dropdown-item" href="#" onclick="InsertDataPointsFromClipboard_ShowInterface();">Точки учёта из буфера обмена</a></li>
                <li><a class="dropdown-item" href="#" onclick="DataDesignerULAddAllPointsOfOpenedAgreements()">Только Точки учёта связанные с открытыми Договорами</a></li>
                <li><a class="dropdown-item" href="#" onclick="DataDesignerULAddAllPoints();">Все Точки учёта</a></li>
              </ul>
              </div>
            </div>


            <div class="col-6 p-1">
              <button type="button" class="btn btn-warning col-12" id="button_data_clear" onclick="ClearSourceDataonServer();ClearSourceData();"><img width="24" height="24" src="/static/images/clear.png" align="left">Очистить</button>
            </div>
          </div>
        </div>

        <div class="col-9 px-4">
          <h5 id="parameters_lable">Добавляемые поля</h5>
          <select class="form-select" size="24" id="added_fields_list">
          </select>

          <div class="row p-1">



            <div class="col-4 p-1">
              <div class="dropdown dropend">
              <button type="button" class="btn btn-primary col-12 dropdown-toggle" id="button_parameters_of_agremeents_insert" id="AgreementPeriodsDropDownList" data-bs-toggle="dropdown" aria-expanded="false"><img width="24" height="24" src="/static/images/add.png" align="left">Договор</button>
              <ul class="dropdown-menu dropdown-menu-dark " aria-labelledby="button_parameters_of_agremeents_insert" id="button_data_insertDropMenu" data-agreementid="-==-">
                <li><a class="dropdown-item" href="#" onclick="Add_Parameter(`{'type':'agreement_names', 'name':'Название договора'}`); ">Название договора</a></li>
                <li><a class="dropdown-item" href="#" onclick="Add_Parameter(`{'type':'agreement_date_begin', 'name':'Даты заключения договора'}`); ">
                                                                                                                      Даты заключения договора</a></li>
                <li><a class="dropdown-item" href="#" onclick="Add_Parameter(`{'type':'agreement_date_end', 'name':'Даты Расторжения договора'}`); ">
                                                                                                                      Даты расторжения договора</a></li>
                <li><a class="dropdown-item" href="#" onclick="Add_Parameter(`{'type':'agreement_address', 'name':'Адрес договора'}`); ">
                                                                                                                    Адрес договора</a></li>
                <li><a class="dropdown-item" href="#" onclick="Add_Parameter(`{'type':'agreement_address_fact', 'name':'Адрес фактический договора'}`); ">
                                                                                                                    Адрес фактический договора</a></li>
                <li><a class="dropdown-item" href="#" onclick="Add_Parameter(`{'type':'agreement_phone', 'name':'Телефоны договора'}`); ">
                                                                                                                Телефоны договора</a></li>
                <li><a class="dropdown-item" href="#" onclick="Add_Parameter(`{'type':'agreement_inn', 'name':'ИНН'}`); ">
                                                                                                                ИНН</a></li>
                <li><a class="dropdown-item" href="#" onclick="Add_Parameter(`{'type':'agreement_kpp', 'name':'КПП'}`); ">
                                                                                                              КПП</a></li>
                <li><a class="dropdown-item" href="#" onclick="Add_Parameter(`{'type':'agreement_opul', 'name':'Ответственный Расчеты'}`); ">
                                                                                                                  Ответственный Расчеты</a></li>
                <li><a class="dropdown-item" href="#" onclick="Add_Parameter(`{'type':'agreement_odrul', 'name':'Ответственный Договор'}`); ">
                                                                                                                  Ответственный Договор</a></li>
                <li><a class="dropdown-item" href="#" onclick="Add_Parameter(`{'type':'agreement_manager', 'name':'Ответственный Менеджер'}`); ">
                                                                                                                  Ответственный Менеджер</a></li>
                
              </ul>
              </div>
            </div>



            <div class="col-4 p-1">
              <button type="button" class="btn btn-primary col-12" id="button_data_clear" onclick="ClearSourceDataonServer();ClearSourceData();"><img width="24" height="24" src="/static/images/add.png" align="left">Точки учета</button>
            </div>

          
            <div class="col-4 p-1">
              <button type="button" class="btn btn-primary col-12" id="button_data_clear" onclick="ClearSourceDataonServer();ClearSourceData();"><img width="24" height="24" src="/static/images/add.png" align="left">Приборы учета</button>
            </div>

          </div>

          <div class="row p-1">

            <div class="col-4 p-1">
              <button type="button" class="btn btn-success col-12" id="button_data_clear" onclick="GetDesdignerULExcelResult();"><img width="24" height="24" src="/static/images/excel.png" align="left">Вывести в Excel</button>
            </div>


            <div class="col-4 p-1">
              <button type="button" class="btn btn-secondary col-12" id="button_data_clear" onclick="ClearSourceDataonServer();ClearSourceData();"><img width="24" height="24" src="/static/images/repeat.png" align="left">Повторить</button>
            </div>


            <div class="col-4 p-1">
              <button type="button" class="btn btn-warning col-12" id="button_data_clear" onclick="ClearSourceDataonServerParameters();ClearSourceDataParameters();GetSourceFromServerParameters();"><img width="24" height="24" src="/static/images/clear.png" align="left">Очистить</button>
            </div>

          </div>

          

        </div>

    </div>

  </form>


{% endblock %}

